/* 数学公式样式 */
.MathJax {
  /* 基础样式：确保元素可交互 */
  display: inline-block !important;
  /* 核心修复：设置垂直对齐方式，使公式与汉字文本正确对齐 */
  vertical-align: middle;
  max-width: 100%;
  /* 初始位置 */
  transform: translateY(0);
  /* 添加初始内边距和圆角，避免悬停时的布局变化 */
  /* padding: 2px 6px; */
  padding: 0.4rem 0;
  border-radius: 4px;
  /* 初始透明背景 */
  background-color: transparent;
  /* 优化过渡效果：只过渡必要属性 */
  transition: transform 0.25s ease, background-color 0.25s ease, box-shadow 0.25s ease;
  /* 提示浏览器优化渲染 */
  will-change: transform, background-color, box-shadow;
  /* 确保z-index正确 */
  position: relative;
  z-index: 1;
}

/* 鼠标悬停效果 */
.MathJax:hover {
  /* 高亮效果：使用与白板风格协调的颜色 */
  background-color: rgba(79, 141, 192, 0.2);
  /* 添加轻微的阴影，增强立体感 */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  /* 轻微上移动画，距离3px - 只保留垂直方向移动 */
  transform: translateY(-3px);
  /* 增强视觉层次 */
  z-index: 10;
  /* 移除margin变化，避免文本流影响 */
  margin: 0;
}

/* 针对block级MathJax公式的调整 */
.MathJax[display="block"] {
  /* block级公式的特殊处理 */
  display: block;
  text-align: center;
  /* block级公式不需要初始内边距 */
  padding: 0;
  /* block级公式不需要初始圆角 */
  border-radius: 0;
}

.MathJax[display="block"]:hover {
  /* block级公式悬停时的调整 */
  transform: translateY(-3px);
  /* 添加block级公式的内边距和圆角 */
  padding: 8px 12px;
  border-radius: 6px;
  /* 避免影响布局 */
  margin: 0;
}
