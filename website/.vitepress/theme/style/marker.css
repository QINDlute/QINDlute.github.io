/* .vitepress/theme/style/marker.css */

.marker {
  position: relative;
  display: inline;
  line-height: 1.5;
  box-decoration-break: clone;
  
  background-image: linear-gradient(
    transparent 50%,
    var(--marker-color, rgba(79, 192, 141, 0.5)) 50%
  );
  background-size: 100% 200%;
  background-position: 0 34%;
  background-repeat: no-repeat;
  
  /* 平滑过渡效果 - 使用background-position */
  transition: background-position 200ms cubic-bezier(0, 0.8, 0.13, 1) !important;
  -webkit-transition: background-position 200ms cubic-bezier(0, 0.8, 0.13, 1) !important;
}

/* 夜间模式 */
.theme-night .marker {
  --marker-color: rgba(80, 227, 194, 0.4);
}

/* 鼠标悬停效果 */
.marker:not(.marker-full):hover {
  /* 悬停时：显示完整背景 */
  background-position: 0 100%;
  transition-delay: 80ms !important;
}

/* 完整覆盖状态 */
.marker-full {
  background-image: linear-gradient(
    var(--marker-color, rgba(79, 192, 141, 0.5)) 0%,
    var(--marker-color, rgba(79, 192, 141, 0.5)) 100%
  ) !important;
  background-size: 100% 100% !important;
  background-position: 0 0 !important;
  pointer-events: none;
}

/* 颜色变体 */
.marker-red { --marker-color: rgba(239, 68, 68, 0.5); }
.marker-orange { --marker-color: rgba(251, 146, 60, 0.5); }
.marker-blue { --marker-color: rgba(59, 130, 246, 0.5); }
.marker-purple { --marker-color: rgba(168, 85, 247, 0.5); }
.marker-green { --marker-color: rgba(79, 192, 141, 0.5); }
.marker-magenta { --marker-color: rgba(255, 0, 255, 0.3); }

/* 夜间模式下的颜色变体 */
.theme-night .marker-red { --marker-color: rgba(248, 113, 113, 0.4); }
.theme-night .marker-orange { --marker-color: rgba(251, 160, 40, 0.4); }
.theme-night .marker-blue { --marker-color: rgba(100, 100, 255, 0.4); }
.theme-night .marker-purple { --marker-color: rgba(186, 129, 255, 0.4); }
.theme-night .marker-green { --marker-color: rgba(80, 227, 194, 0.4); }
.theme-night .marker-magenta { --marker-color: rgba(255, 0, 255, 0.3); }
